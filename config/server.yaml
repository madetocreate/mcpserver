server:
  name: simple-gpt-mcp
  host: "127.0.0.1"
  port: 9000
  log_level: INFO
  default_actor: mcp-server
  default_actor_role: Agent
tenants:
  default:
    services:
      memory: "http://127.0.0.1:8000/mcp/memory"
      crm: "http://127.0.0.1:8000/mcp/crm"
      backend: http://127.0.0.1:8000
security:
  tools:
    memory_delete:
      user_approval_required: true
    memory_archive:
      user_approval_required: true
    crm_create_note:
      user_approval_required: true
    crm_update_pipeline:
      user_approval_required: true
    crm_link_entities:
      user_approval_required: true
    crm_define_pipeline:
      user_approval_required: true
    crm_upsert_contact:
      user_approval_required: true
    crm_upsert_company:
      user_approval_required: true
    crm_create_deal:
      user_approval_required: true
    crm_merge_contacts:
      user_approval_required: true
    crm_audit_query:
      allowed_roles:
        - Orchestrator
        - CRM-Supervisor
    crm_events_pull:
      allowed_roles:
        - Orchestrator
        - Automation-Supervisor
        - CRM-Supervisor
    crm_events_ack:
      allowed_roles:
        - Orchestrator
        - Automation-Supervisor
        - CRM-Supervisor
    crm_create_task:
      user_approval_required: true
    crm_complete_task:
      user_approval_required: true
    crm_log_call:
      user_approval_required: true
    crm_log_meeting:
      user_approval_required: true
    crm_define_property:
      user_approval_required: true
    crm_set_property:
      user_approval_required: true
    crm_create_segment:
      user_approval_required: true
    crm_webhook_create:
      user_approval_required: true
    crm_webhook_disable:
      user_approval_required: true
    crm_define_object_type:
      user_approval_required: true
    crm_create_object_record:
      user_approval_required: true
    crm_update_object_record:
      user_approval_required: true
    memory_write:
      user_approval_required: false
  default_allowed_roles:
    - Admin
    - Orchestrator
    - CRM-Supervisor
    - Agent
rate_limits:
  default_per_minute: 120
  per_actor_per_minute: 60
  window_seconds: 60

# Circuit Breaker configuration (Best Practice 2025)
circuit_breaker:
  failure_threshold: 5      # Open circuit after 5 consecutive failures
  recovery_timeout: 30.0    # Wait 30 seconds before trying again
  half_open_max_calls: 3    # Allow 3 test calls in half-open state
